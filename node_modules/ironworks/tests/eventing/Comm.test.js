
var chai = require('chai')
    ,expect = chai.expect;

chai.use(require('../_chai/toHaveAListener'));
chai.use(require('../_chai/toHaveAMethod'));

var Comm = require('../../src/eventing/Comm');

describe('Comm', function () {
    var prefix = 'comm-prefix';
    var comm;
    beforeEach(function (done) {
        comm = new Comm({
            name: 'service-name'
        }, {
            id: 'comm-id',
            name: 'comm-name'
        }, "service-as-a-worker", {
            prefix: prefix
        });
        done();
    });

    it("should have a 'prefix' method that returns the 'prefix' option value", function () {
        expect(comm.prefix()).to.be.equal(prefix);
    });
});
